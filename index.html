<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <title>Gerador de Termo de Responsabilidade</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

  <style>
    :root {
      --bg-light: #f7f7f7;
      --bg-dark: #1e1e1e;
      --text-light: #333;
      --text-dark: #f7f7f7;
      --card-light: #ffffff;
      --card-dark: #2a2a2a;
      --shadow-light: rgba(0, 0, 0, 0.1);
      --shadow-dark: rgba(255, 255, 255, 0.05);
      --accent: #007bff;
      --accent-hover: #0056b3;
    }

    body {
      font-family: Arial, sans-serif;
      max-width: 700px;
      margin: 40px auto;
      background-color: var(--bg-light);
      color: var(--text-light);
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 0 10px var(--shadow-light);
      transition: background-color 0.4s, color 0.4s;
    }

    h2 {
      text-align: center;
      color: inherit;
    }

    label {
      display: block;
      margin-top: 15px;
      font-weight: bold;
    }

    input,
    textarea {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
      border: 1px solid #ccc;
      border-radius: 6px;
      transition: background-color 0.3s, color 0.3s;
    }

    button {
      margin-top: 25px;
      padding: 10px 18px;
      background-color: var(--accent);
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 15px;
      cursor: pointer;
      width: 100%;
      transition: background-color 0.3s;
    }

    button:hover {
      background-color: var(--accent-hover);
    }

    #razaoSocialField {
      display: none;
    }

    /* Modo escuro */
    body.dark-mode {
      background-color: var(--bg-dark);
      color: var(--text-dark);
      box-shadow: 0 0 10px var(--shadow-dark);
    }

    body.dark-mode input,
    body.dark-mode textarea {
      background-color: var(--card-dark);
      color: var(--text-dark);
      border: 1px solid #555;
    }

    body.dark-mode button {
      background-color: #2196f3;
      color: white;
    }

    body.dark-mode button:hover {
      background-color: #1769aa;
    }

    /* Bot√£o de altern√¢ncia de tema */
    #toggle-theme {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background-color: rgba(0, 0, 0, 0.1);
      border: none;
      cursor: pointer;
      font-size: 16px;
      color: inherit;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
      transition: all 0.3s ease;
      opacity: 0.8;
      z-index: 1000;
    }

    #toggle-theme:hover {
      opacity: 1;
      transform: scale(1.1);
      background-color: rgba(0, 0, 0, 0.2);
    }

    body.dark-mode #toggle-theme {
      background-color: rgba(255, 255, 255, 0.1);
      color: #f7f7f7;
    }

    body.dark-mode #toggle-theme:hover {
      background-color: rgba(255, 255, 255, 0.2);
    }
  </style>
</head>

<body>
  <button id="toggle-theme">üåô Modo Escuro</button>

  <h2>Gerar Termo de Responsabilidade</h2>

  <label>Empregadora / Contratante:</label>
  <input id="empregadora" type="text" placeholder="CCXP ou Omelete">

  <label>Nome do colaborador / respons√°vel legal:</label>
  <input id="empregado" type="text" placeholder="Jo√£o Rafael">

  <div id="razaoSocialField">
    <label>Raz√£o Social (para CNPJ):</label>
    <input id="razaoSocial" type="text" placeholder="ex: Nome da empresa LTDA">
  </div>

  <label>CPF ou CNPJ:</label>
  <input id="documento" type="text" placeholder="Ex: 334.073.748-79 ou 59.943.865/0001-34"
    oninput="verificarDocumento()">

  <label>Equipamentos entregues:</label>
  <textarea id="equipamentos" placeholder="Ex: Notebook O&CO000123"></textarea>

  <label>Cidade:</label>
  <input id="cidade" type="text" value="S√£o Paulo">

  <button onclick="gerarPDF()">Gerar PDF</button>

  <script>
    // --- Altern√¢ncia manual de tema ---
    const toggleBtn = document.getElementById("toggle-theme");
    toggleBtn.addEventListener("click", () => {
      document.body.classList.toggle("dark-mode");

      if (document.body.classList.contains("dark-mode")) {
        toggleBtn.textContent = "‚òÄÔ∏è Modo Claro";
        localStorage.setItem("tema", "dark");
      } else {
        toggleBtn.textContent = "üåô Modo Escuro";
        localStorage.setItem("tema", "light");
      }
    });

    // Mant√©m o modo entre sess√µes
    if (localStorage.getItem("tema") === "dark") {
      document.body.classList.add("dark-mode");
      toggleBtn.textContent = "‚òÄÔ∏è Modo Claro";
    }

    function verificarDocumento() {
      const documento = document.getElementById("documento").value.replace(/\D/g, "");
      const campoRazao = document.getElementById("razaoSocialField");
      campoRazao.style.display = documento.length > 11 ? "block" : "none";
    }

    function gerarPDF() {
      const { jsPDF } = window.jspdf;
      const doc = new jsPDF();

      const empregadora = document.getElementById("empregadora").value;
      const empregado = document.getElementById("empregado").value;
      const razaoSocial = document.getElementById("razaoSocial").value;
      const documento = document.getElementById("documento").value;
      const equipamentos = document.getElementById("equipamentos").value;
      const cidade = document.getElementById("cidade").value;

      const hoje = new Date();
      const dataFormatada = hoje.toLocaleDateString("pt-BR", {
        day: "numeric",
        month: "long",
        year: "numeric"
      });
      const data = `${cidade}, ${dataFormatada}.`;

      const isPJ = documento.replace(/\D/g, '').length > 11;

      let texto = "";

      if (!isPJ) {
        texto = `
TERMO DE RESPONSABILIDADE E RECIBO DE ENTREGA DE EQUIPAMENTOS E ACESS√ìRIOS

EMPREGADORA: ${empregadora}
EMPREGADO: ${empregado}
APARELHOS ENTREGUES: ${equipamentos}

Na qualidade de EMPREGADO e da EMPREGADORA, declaro que:

a) recebi nesta data o(s) equipamento(s) acima descrito(s) e respectivos acess√≥rios;

b) o(s) equipamento(s) acima descrito(s) e respectivos acess√≥rios permanecer√£o sob minha posse e guarda e ser√£o utilizados com o zelo devido;

c) o(s) equipamento(s) acima descrito(s) e respectivos acess√≥rios s√£o ferramenta exclusivamente destinada ao uso no e para o trabalho, sendo vedada a sua utiliza√ß√£o para outros fins;

d) o(s) equipamento(s) acima descrito(s) e respectivos acess√≥rios n√£o s√£o benef√≠cio, complemento salarial, sal√°rio indireto, sal√°rio in natura ou qualquer esp√©cie de contrapresta√ß√£o pelo trabalho realizado;

e) reconhe√ßo o direito da EMPREGADORA, a qualquer tempo e segundo seu exclusivo crit√©rio, exigir a devolu√ß√£o do(s) equipamento(s) acima descrito(s) e respectivos acess√≥rios, independentemente de pr√©-aviso ou comunica√ß√£o escrita;

f) estou ciente de que os gastos decorrentes da utiliza√ß√£o do(s) equipamento(s) acima descrito(s) para fins pessoais e particulares, uso indevido ou avarias ser√£o de minha inteira responsabilidade.

Na eventualidade de cessa√ß√£o do meu v√≠nculo empregat√≠cio com a EMPREGADORA, independentemente da causa ou motivo, obrigo-me a devolver, no ato da dispensa, o(s) equipamento(s) acima descrito(s) e respectivos acess√≥rios em perfeito estado de conserva√ß√£o e funcionamento.

Assumo o compromisso de utilizar o(s) equipamento(s) acima descrito(s) de acordo com as recomenda√ß√µes do fabricante e orienta√ß√£o da EMPREGADORA, bem como de comunicar imediatamente a esta a ocorr√™ncia de extravio, defeito ou avaria que impe√ßa o seu perfeito funcionamento.

Nos termos do artigo 462 da CLT, fica a EMPREGADORA autorizada a descontar do meu sal√°rio e/ou de minhas verbas rescis√≥rias os valores devidos em raz√£o de uso inadequado, perda ou avaria, por dolo ou culpa, do(s) equipamento(s) acima descrito(s), bem como eventuais gastos com o seu uso pessoal e particular, independentemente de pr√©-aviso ou comunica√ß√£o escrita.

${data}

_____________________________________
${empregado}
CPF n¬∫ ${documento}
`;
      } else {
        texto = `
TERMO DE RESPONSABILIDADE E RECIBO DE ENTREGA DE EQUIPAMENTOS E ACESS√ìRIOS

CONTRATANTE: ${empregadora}
REPRESENTANTE LEGAL DO CONTRATADO: ${empregado}
RAZ√ÉO SOCIAL: ${razaoSocial}
APARELHOS ENTREGUES: ${equipamentos}

Na qualidade de REPRESENTANTE LEGAL DO CONTRATADO, declaro que:

a) recebi nesta data o(s) equipamento(s) acima descrito(s) e respectivos acess√≥rios;

b) o(s) equipamento(s) acima descrito(s) e respectivos acess√≥rios permanecer√£o sob minha posse e guarda e ser√£o utilizados com o zelo devido;

c) o(s) equipamento(s) acima descrito(s) e respectivos acess√≥rios s√£o ferramenta exclusivamente destinada ao uso para a presta√ß√£o de servi√ßos contratada, sendo vedada a sua utiliza√ß√£o para outros fins;

d) reconhe√ßo o direito da CONTRATANTE, a qualquer tempo e segundo seu exclusivo crit√©rio, exigir a devolu√ß√£o do(s) equipamento(s) acima descrito(s) e respectivos acess√≥rios, independentemente de pr√©-aviso ou comunica√ß√£o escrita;

e) estou ciente de que os gastos decorrentes da utiliza√ß√£o do(s) equipamento(s) acima descrito(s) para fins pessoais e particulares, uso indevido ou avarias ser√£o de minha inteira responsabilidade.

Na eventualidade de cessa√ß√£o do Contrato de Presta√ß√£o de Servi√ßos firmado, independentemente da causa ou motivo, obrigo-me a devolver, no ato da rescis√£o, o(s) equipamento(s) acima descrito(s) e respectivos acess√≥rios em perfeito estado de conserva√ß√£o e funcionamento.

Assumo o compromisso de utilizar o(s) equipamento(s) acima descrito(s) de acordo com as recomenda√ß√µes do fabricante e orienta√ß√£o da CONTRATANTE, bem como de comunicar imediatamente a esta a ocorr√™ncia de extravio, defeito ou avaria que impe√ßa o seu perfeito funcionamento.

Nos termos dos artigos 186 e 927 do C√≥digo Civil, fica a CONTRATANTE autorizada a descontar dos honor√°rios previstos no Contrato de Presta√ß√£o de Servi√ßos os valores devidos em raz√£o de uso inadequado, perda ou avaria, por dolo ou culpa, do(s) equipamento(s) acima descrito(s), bem como eventuais gastos com o seu uso pessoal e particular, independentemente de pr√©-aviso ou comunica√ß√£o escrita.

${data}

_____________________________________
${empregado}
${razaoSocial}
CNPJ: ${documento}
`;
      }

      const nomeArquivo = isPJ
        ? `PJ_Termo_de_Responsabilidade_${razaoSocial || empregado}.pdf`
        : `Termo_de_Responsabilidade_${empregado}.pdf`;

      doc.setFontSize(13);
      doc.setFont("helvetica", "bold");
      doc.text("TERMO DE RESPONSABILIDADE E RECIBO DE ENTREGA DE EQUIPAMENTOS E ACESS√ìRIOS", 105, 20, { align: "center" });

      doc.setFont("helvetica", "normal");
      doc.setFontSize(11);
      const lines = doc.splitTextToSize(texto, 180);
      doc.text(lines, 15, 30);
      doc.save(nomeArquivo);
    }
  </script>
</body>

</html>